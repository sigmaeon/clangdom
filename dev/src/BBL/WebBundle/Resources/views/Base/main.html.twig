{% extends 'BBLWebBundle:Base:layout.html.twig' %}

{% block content %}

<!-- Tabs
     ------------------------------------------------------------------------------------------------ -->
	 <!-- main.twig -->
	<div id="tabs" class="span-24">
		<ul>
			<li><a href="#tabs-1" type="hot">HOTSPOT</a></li>
			<li><a href="#tabs-2" type="bands">BANDS</a></li>
			<li><a href="#tabs-3" type="events">EVENTS</a></li>
			<li><a href="#tabs-4" type="forum">FORUM</a></li>
		<!--	<li><a href="#tabs-5">JOIN CLANGDOM</a></li>
			<li><a href="#tabs-6">LOGIN</a></li>-->
		</ul>
<!-- Tabs-1
     ------------------------------------------------------------------------------------------------ -->
		<div id="tabs-1" class="min" load="true"></div>	
		
<!-- Tabs-2
     ------------------------------------------------------------------------------------------------ -->	
		<div id="tabs-2" class="min" load="true"></div>
		
<!-- Tabs-3
     ------------------------------------------------------------------------------------------------ -->
		<div id="tabs-3" class="min" load="true"></div>
		
<!-- Tabs-4
     ------------------------------------------------------------------------------------------------ -->
		<div id="tabs-4" class="min" load="true"></div>
	</div>
	<button onclick="testfunc()" id="yobut"> Yoo </button>
{% endblock %}
{% block javascripts %}
<script type="text/javascript" src="{{ asset('bundles/bblweb/js/test.js') }}"></script> 
{% endblock %}
{% block javascript %}
{{  parent() }}
<!-- <script> -->
$(document).ready(function(){


	// --------------- AJAX Loading -----------------
		$( "#tabs" ).tabs({activate: function( event, ui) {
			var url = '{{ path('ajax_load') }}';
			  $.ajax({
 				  url: url,
 				  type: "post",
  				  data: {Type: "bands"/*ui.newTab.attr('type')*/,
  				  		 Num: 10 /* maybe gets moded*/},
  				  beforeSend: function(){
  				  	if(ui.newPanel.html() == "") ui.newPanel.html(genLoad());
   				  },
 				  success: function(data) {
     				 ui.newPanel.html(data);
  				  },
  				  error: function(jqXHR, error, errorThrown) {
  				  	ui.newPanel.html(jqXHR.responseText);
  				  
  				  }
  				  
			});
		    }
	    });
        //initial Load
		 var url = "{{ path('ajax_load') }}";
		 $.post(url,{typ: "Plan"}, 
		 function(data){
			$("#tabs-1").html(data);
	      });	
});
		 
function genLoad()
{
	return "<p> Loading, please wait....</p>";
}

 
function testfunc()
{
	alert('Surprise Mothafuckaa!!! ');
}

{% endblock %}

